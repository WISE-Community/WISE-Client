<button
  mat-icon-button
  [matMenuTriggerFor]="applyTagsMenu"
  matTooltip="Apply tags"
  matTooltipPosition="above"
  i18n-matTooltip
>
  <mat-icon>sell</mat-icon>
</button>
<mat-menu #applyTagsMenu>
  <div class="menu-info secondary-text" i18n>Apply tags</div>
  <mat-divider></mat-divider>
  <div *ngFor="let tag of tags" (click)="$event.stopPropagation()" mat-menu-item>
    <select-all-items-checkbox
      [numAllItems]="selectedProjects.length"
      [numSelectedItems]="tag.numProjectsWithTag"
      (allSelectedEvent)="addTagToProjects(tag)"
      (noneSelectedEvent)="removeTagFromProjects(tag)"
    >
      <div [ngStyle]="{ color: tag.color }">{{ tag.text }}</div>
    </select-all-items-checkbox>
  </div>
  <mat-divider></mat-divider>
  <div (click)="manageTags(); $event.stopPropagation()" mat-menu-item i18n>Manage Tags</div>
</mat-menu>
