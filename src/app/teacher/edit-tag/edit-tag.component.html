<div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="12px">
  <div class="tag-inputs-div" fxLayout="column">
    <div fxLayoutAlign="start center">
      <div class="tag-preview" [style.background-color]="color">
        {{ nameControl.value }}
      </div>
    </div>
    <div fxLayoutAlign="space-between" fxLayoutGap="12px">
      <mat-form-field class="name-input">
        <mat-label i18n>Tag Name</mat-label>
        <input matInput #nameInput (keyup.enter)="enterKeyPressed()" [formControl]="nameControl" />
        <mat-error *ngIf="nameControl.errors?.required" i18n>Required</mat-error>
        <mat-error *ngIf="nameControl.errors?.archivedNotAllowed" i18n
          >Archived tag not allowed</mat-error
        >
        <mat-error *ngIf="nameControl.errors?.tagAlreadyExists" i18n>Tag already exists</mat-error>
      </mat-form-field>
      <mat-form-field class="color-input">
        <mat-label i18n>Color</mat-label>
        <input matInput [(ngModel)]="color" (keyup.enter)="enterKeyPressed()" />
      </mat-form-field>
    </div>
    <div fxLayoutAlign="start center" fxLayoutGap="12px">
      <color-chooser [chosenColor]="color" (chooseColorEvent)="chooseColor($event)"></color-chooser>
      <div
        fxLayoutAlign="center center"
        class="custom-color-div"
        [(colorPicker)]="color"
        (colorPickerChange)="chooseColor($event)"
        [cpFallbackColor]="'#ff0000'"
        [cpOutputFormat]="'hex'"
        [cpOKButton]="true"
        [cpCancelButton]="true"
        i18n
      >
        Custom
      </div>
    </div>
  </div>
  <button mat-button (click)="close()" i18n>Cancel</button>
  <button mat-raised-button color="primary" [disabled]="!nameControl.valid" (click)="submit()">
    {{ submitLabel }}
  </button>
</div>
