<div
  id="{{ step.id }}"
  fxLayoutAlign="start center"
  class="pointer stepHeader projectItem"
  [ngClass]="{ branchPathStepHeader: isNodeInAnyBranchPath(step.id) }"
  [ngStyle]="{ 'background-color': getStepBackgroundColor(step.id) }"
>
  <mat-checkbox
    color="primary"
    [(ngModel)]="checked"
    (click)="selectNodeEvent.emit({ id: step.id, checked: checked })"
    [disabled]="nodeTypeSelected === 'lesson'"
    aria-label="Select step"
    i18n-aria-label
  >
  </mat-checkbox>
  <div
    class="projectItemTitleDiv"
    fxLayoutAlign="start center"
    fxLayoutGap="10px"
    (click)="setCurrentNode(step.id)"
  >
    <node-icon-and-title [nodeId]="step.id" [showPosition]="showPosition"></node-icon-and-title>
    <p fxLayoutAlign="start center" fxLayoutGap="10px">
      <mat-icon
        *ngIf="isBranchPoint(step.id)"
        class="rotate-180"
        (click)="branchIconClicked(step.id); $event.stopPropagation()"
        matTooltip="Branch point with {{ getNumberOfBranchPaths(step.id) }} paths based on {{
          getBranchCriteriaDescription(step.id)
        }}"
        matTooltipPosition="right"
        i18n-matTooltip
        >call_split</mat-icon
      >
      <mat-icon
        *ngIf="nodeHasConstraint(step.id)"
        (click)="constraintIconClicked(step.id); $event.stopPropagation()"
        matTooltip="{{ getNumberOfConstraintsOnNode(step.id) }} Constraint(s) {{
          getConstraintDescriptions(step.id)
        }}"
        matTooltipPosition="right"
        i18n-matTooltip
        >block</mat-icon
      >
      <mat-icon
        *ngIf="nodeHasRubric(step.id)"
        matTooltip="Has Rubric"
        matTooltipPosition="right"
        i18n-matTooltip
        >message</mat-icon
      >
    </p>
  </div>
</div>
