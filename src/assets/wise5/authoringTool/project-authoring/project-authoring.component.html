<div class="project-content" fxLayout="row wrap" fxLayoutGap="15px">
  <button
    mat-raised-button
    color="primary"
    (click)="addNewLesson()"
    [disabled]="nodeTypeSelected() != null"
    matTooltip="Add New Lesson"
    matTooltipPosition="above"
    i18n-matTooltip
  >
    <mat-icon>queue</mat-icon>
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="addNewStep()"
    [disabled]="nodeTypeSelected() != null"
    matTooltip="Add New Step"
    matTooltipPosition="above"
    i18n-matTooltip
  >
    <mat-icon>add_box</mat-icon>
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="chooseLocation(false)"
    [disabled]="!hasSelectedNodes()"
    matTooltip="Move"
    matTooltipPosition="above"
    i18n-matTooltip
  >
    <mat-icon>redo</mat-icon>
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="chooseLocation(true)"
    [disabled]="!hasSelectedStepsOnly()"
    matTooltip="Copy"
    matTooltipPosition="above"
    i18n-matTooltip
  >
    <mat-icon>content_copy</mat-icon>
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="deleteSelectedNodes()"
    [disabled]="!hasSelectedNodes()"
    matTooltip="Delete"
    matTooltipPosition="above"
    i18n-matTooltip
  >
    <mat-icon>delete</mat-icon>
  </button>
  <div fxFlex></div>
  <button
    (click)="expandAllLessons()"
    [disabled]="isAllLessonsExpanded()"
    mat-raised-button
    color="primary"
    i18n
  >
    + Expand All
  </button>
  <button
    (click)="collapseAllLessons()"
    [disabled]="isAllLessonsCollapsed()"
    mat-raised-button
    color="primary"
    i18n
  >
    - Collapse All
  </button>
</div>
<div class="all-nodes-div">
  <div *ngFor="let lesson of lessons">
    <project-authoring-lesson
      [lesson]="lesson"
      (selectNodeEvent)="selectNode($event)"
      [showPosition]="true"
      [projectId]="projectId"
      [expanded]="lessonIdToExpanded()[lesson.id]"
      (expandedChangeEvent)="expandedChangeEvent($event)"
    ></project-authoring-lesson>
  </div>
  <div>
    <h6 class="unused-header" i18n>Unused Lessons</h6>
    <div *ngIf="inactiveGroupNodes.length === 0" i18n>There are no Unused Lessons</div>
    <div *ngFor="let inactiveGroupNode of inactiveGroupNodes">
      <project-authoring-lesson
        [lesson]="inactiveGroupNode"
        (selectNodeEvent)="selectNode($event)"
        [showPosition]="false"
        [projectId]="projectId"
        [expanded]="lessonIdToExpanded()[inactiveGroupNode.id]"
        (expandedChangeEvent)="expandedChangeEvent($event)"
      ></project-authoring-lesson>
    </div>
    <div>
      <h6 class="unused-header" i18n>Unused Steps</h6>
      <div *ngIf="inactiveStepNodes.length === 0" i18n>There are no Unused Steps</div>
      <ng-container *ngFor="let inactiveStepNode of inactiveStepNodes">
        <project-authoring-step
          *ngIf="getParentGroup(inactiveStepNode.id) == null"
          [step]="inactiveStepNode"
          (selectNodeEvent)="selectNode($event)"
          [showPosition]="false"
          [projectId]="projectId"
        ></project-authoring-step>
      </ng-container>
    </div>
  </div>
</div>
