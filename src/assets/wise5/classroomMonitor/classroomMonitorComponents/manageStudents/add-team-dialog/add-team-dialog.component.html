<h1 mat-dialog-title i18n>Create New Team</h1>
<div mat-dialog-content class="info-block" cdkFocusRegionStart>
  <h3 i18n>Select students to add to the new team:</h3>
  <div fxLayout="column" fxLayout.gt-sm="row">
    <div class="initial-members notice-bg-bg" fxFlex="100" fxFlex.gt-sm="33">
      <div *ngIf="initialTeamMembers.length == 0" class="mat-small" i18n>No team member added</div>
      <div class="member-list" *ngIf="initialTeamMembers.length > 0">
        <div class="member-list-item" *ngFor="let member of initialTeamMembers; let i=index;"
            fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
          <show-student-info [user]="member" [class]="isUserInAnyWorkgroup(member) ? '' : 'warn'"></show-student-info>
          <span fxFlex></span>
          <button mat-icon-button
              (click)="deleteTeamMember(i)"
              i18n-aria-label
              aria-label="Delete team member">
            <mat-icon class="secondary-text">close</mat-icon>
          </button>
        </div>
      </div>
    </div>
    <div fxFlex="100" fxFlex.gt-sm="67">
      <div fxLayout="row wrap" fxLayoutAlign="start start">
        <div class="member" *ngFor="let user of allUsersInPeriod; let i=index;">
          <button mat-stroked-button
              [color]="isUserInAnyWorkgroup(user) ? '' : 'warn'"
              (click)="addTeamMember(user)"
              [disabled]="initialTeamMembers.length == 3 || initialTeamMembers.includes(user)">
            <show-student-info [user]="user"></show-student-info>
          </button>
        </div>
      </div>
      <p class="info mat-small" i18n>*Note: You can always change the team membership later.</p>
    </div>
</div>
<mat-divider></mat-divider>
<div mat-dialog-actions fxLayoutAlign="start center" fxLayoutGap="8px" style="padding: 0">
  <span fxFlex></span>
  <button mat-button mat-dialog-close [disabled]="isProcessing" i18n>Cancel</button>
  <button mat-button
      color="primary"
      [disabled]="isProcessing || initialTeamMembers.length == 0"
      (click)="createTeam()">
    <mat-progress-bar *ngIf="isProcessing" mode="indeterminate"></mat-progress-bar>
    <ng-container i18n>Create</ng-container>
  </button>
</div>
